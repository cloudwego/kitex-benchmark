// Code generated by Kitex v0.11.0. DO NOT EDIT.
package streamserver

import (
	"context"

	echo "github.com/cloudwego/kitex-benchmark/codec/thrift/kitex_gen/echo"
	"github.com/cloudwego/kitex/pkg/serviceinfo"
	"github.com/cloudwego/kitex/pkg/streamx"
	"github.com/cloudwego/kitex/server/streamxserver"
)

var ServiceInfo = &serviceinfo.ServiceInfo{
	ServiceName: "StreamServer",
	Methods: map[string]serviceinfo.MethodInfo{
		"Echo": serviceinfo.NewMethodInfo(
			func(ctx context.Context, handler, reqArgs, resArgs interface{}) error {
				return streamxserver.InvokeBidiStreamHandler[echo.Request, echo.Response](
					ctx, reqArgs.(streamx.StreamReqArgs), resArgs.(streamx.StreamResArgs),
					func(ctx context.Context, stream streamx.BidiStreamingServer[echo.Request, echo.Response]) error {
						return handler.(Server).Echo(ctx, stream)
					},
				)
			},
			nil,
			nil,
			false,
			serviceinfo.WithStreamingMode(serviceinfo.StreamingBidirectional),
			serviceinfo.WithMethodExtra("streamx", "true"),
		),
	},
}
