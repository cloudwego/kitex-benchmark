// Code generated by Kitex v0.11.0. DO NOT EDIT.
package streamserver

import (
	"context"

	echo "github.com/cloudwego/kitex-benchmark/codec/thrift/kitex_gen/echo"
	"github.com/cloudwego/kitex/pkg/streamx"
	ttstream "github.com/cloudwego/kitex/pkg/streamx/provider/ttstream"
	server "github.com/cloudwego/kitex/server"
	"github.com/cloudwego/kitex/server/streamxserver"
)

type ServerInterface interface {
	Echo(ctx context.Context, stream streamx.BidiStreamingServer[ttstream.Header, ttstream.Trailer, echo.Request, echo.Response]) error
}

func RegisterService(svr server.Server, handler ServerInterface, opts ...server.RegisterOption) error {
	sp, err := ttstream.NewServerProvider(svcInfo)
	if err != nil {
		return err
	}
	nopts := []server.RegisterOption{streamxserver.WithProvider(sp)}
	nopts = append(nopts, opts...)
	return svr.RegisterService(svcInfo, handler, nopts...)
}
